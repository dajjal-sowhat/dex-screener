import{ad as F,ae as S,af as d,ag as x,ah as I}from"../entries/pages_catch-all.DeNA4nR9.js";function j(e){e===void 0&&(e=1/0);var a;e&&typeof e=="object"?a=e:a={count:e};var f=a.count,c=f===void 0?1/0:f,i=a.delay,o=a.resetOnSuccess,b=o===void 0?!1:o;return c<=0?F:S(function(p,t){var s=0,n,u=function(){var l=!1;n=p.subscribe(d(t,function(r){b&&(s=0),t.next(r)},void 0,function(r){if(s++<c){var v=function(){n?(n.unsubscribe(),n=null,u()):l=!0};if(i!=null){var m=typeof i=="number"?x(i):I(i(r,s)),y=d(t,function(){y.unsubscribe(),v()},function(){t.complete()});m.subscribe(y)}else v()}else t.error(r)})),l&&(n.unsubscribe(),n=null,u())};u()})}export{j as r};
