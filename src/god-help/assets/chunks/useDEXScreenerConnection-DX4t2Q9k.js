import{Y as b,j as s,Z as g,$ as w,a0 as p,a1 as m,a2 as k,a3 as v,a4 as C,a5 as E,a6 as R,a7 as S,a8 as h,a9 as L,aa as U}from"../entries/pages_catch-all.DeNA4nR9.js";const x=i=>{const o=S(h),{timeframeKey:u,page:l,query:a}=i,{isConnectedRef:e}=b(),n=s.useCallback(()=>{e.current&&o.track({event:"websocket:error",data:{type:"websocket",channel:"pairs"}})},[o,e]),d=S(U),t=S(L),f=W(d,u,l,a),c=s.useMemo(()=>g(5e3,1/0),[]),r=s.useMemo(()=>w({url:f.fullURL,logger:t,reconnectionStrategy:c,transport:p,onError:n,beforeUnloadTarget:typeof window<"u"&&window.addEventListener!==void 0?window:void 0,serializer:{encode:m.encode,decode:k(C,v()).decode},binaryType:"arraybuffer"}),[f.fullURL,t,n,c]);s.useEffect(()=>r.connect(),[r]),s.useEffect(()=>c.reset,[c]);const y=E(r.status,r.status.getValue());return{client:r,info:f,status:y}};function W(i,o,u,l){const a=new URL(i).toString(),e=`/dex/screener/v4/pairs/${o}/${u}`,n=R(l),d=s.useMemo(()=>{const t=new URL(a);return t.pathname=e,t.search=n,t},[n,e,a]);return{url:a,namespace:e,query:n,fullURL:d}}export{x as u};
