import{ay as _,j as s,k as n,aI as A,aJ as k,aK as O,aL as v,aM as j,aN as Q,aO as H}from"../entries/pages_catch-all.DeNA4nR9.js";import{H as y,u as M,b as I,c as T,d as V,e as b}from"./dex-pair-details-B1J-55mn.js";import{n as G,A as N}from"./dex-search.service-DBnH3Ikf.js";import{u as i,D as F}from"./dex-screener-context-a-UMKe71.js";import{g as X}from"./screener-presets-util-DzO4b4WO.js";import{D as L}from"./dex-screener-BLEGv9Tv.js";import{S as q}from"./screener-control-presets-group-CppKb2qA.js";import"./preload-helper-DJsytJB9.js";/* empty css                                                               *//* empty css                                                                      *//* empty css                                                                                        *//* empty css                                                                                    *//* empty css                                                   */import"./uniswap-swap-widget.util-ldD7fXt1.js";import"./ErrorMessageServerConnection-O3DygrcT.js";import"./span-BbxB5wGs.js";import"./delayed-Cer_z3Z7.js";import"./conditional-wrap-CI4-c_vk.js";import"./chunk-7ELO524Q-A9cFyVaT.js";import"./index.esm-DdF9dPvy.js";import"./catchError-CZLiBm8_.js";import"./AMMPairDetailChart-CS14F-Eu.js";import"./price-alerts-button-D5q9y85X.js";import"./embed-feature-disabled-modal-B8bCtoIe.js";import"./use-observable-memo-DwCRw3de.js";import"./live-time-ago-BwNzQOl9.js";/* empty css                                                                            *//* empty css                                                                                                            *//* empty css                                                                                                          *//* empty css                                                                                                          *//* empty css                                                                                                       *//* empty css                                                                                                  *//* empty css                                                                                          */import"./upperFirst-LabUiU-Y.js";import"./useDEXScreenerConnection-DX4t2Q9k.js";import"./AMMPairDetailModal-CszQeVVW.js";const U=()=>{const{sorting:{sorting:g,setSorting:e},setTimeframe:a,setQuery:m,setRankBy:u,isCustomQuery:p,currentQuery:t}=i(),c=_(g),d=_(t),C=s.useCallback(o=>{o&&Object.keys(o).length>0?m({rankBy:d.current.rankBy,filters:o.filters}):m(void 0)},[m,d]),S=s.useCallback(o=>{u(o),(c.current.key!==o.key||c.current.order!==o.order)&&e(o.key,o.order)},[u,e,c]),h=s.useMemo(()=>{if(p)return{key:Date.now(),params:t}},[t,p]),f=s.useCallback((o,x)=>{const P=y.find(R=>R.id===o),l=P==null?void 0:P.presets.find(R=>R.id===x);l&&m(l.query)},[m]),r=s.useMemo(()=>X(y,t),[t]),E=s.useCallback(()=>n.jsx(q,{groups:y,onPresetChange:f,currentPresetId:r==null?void 0:r.id}),[r==null?void 0:r.id,f]);return n.jsxs(n.Fragment,{children:[n.jsx(A,{location:"HomePageScreener",children:"DEX Screener"}),n.jsx(L,{customParams:h,onSort:e,onCustomParamsChange:C,onTimeframeChange:a,onRankChange:S,screenerVariant:(r==null?void 0:r.screenerVariant)??"top",renderScreenerControl:E,topOffset:0})]})},Oe=({page:g,initialData:e,timeframe:a})=>{const m=k(),u=O(),p=s.useMemo(()=>G({...b,ad:e==null?void 0:e.ad}),[e==null?void 0:e.ad]),t=v({timeframe:a,query:m,page:g}),c=s.useRef(e==null?void 0:e.ad),d=_(p.refresh);M(()=>{c.current||d.current()},[d,t]),s.useEffect(()=>{c.current=e==null?void 0:e.ad},[e==null?void 0:e.ad]);const C=s.useCallback(S=>{const{page:h,timeframe:f,query:r}=S,E=j(r);u({pathname:Q({platformId:null,dexId:null,page:h,timeframe:f}),search:E?H(E):void 0})},[u]);return n.jsxs(N,{value:p,children:[n.jsx(A,{location:"HomePage",children:"DEX Screener"}),n.jsx(F,{defaultQuery:I,initialData:e==null?void 0:e.dexScreenerData,rankFilterOptions:T,screenerConfig:V,onScreenerControlValueChange:C,screenerControlValue:t,children:n.jsx(U,{})})]})};export{Oe as HomePage};
